(()=>{"use strict";var e={146:(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.data=void 0,s.data=[{num:"1",name:"Большой шар с рисунком",count:"2",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"2",name:"Зелёный шар с цветами",count:"5",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"3",name:"Красный матовый шар",count:"3",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"4",name:"Сосулька красная",count:"2",year:"1980",shape:"фигурка",color:"красный",size:"большой",favorite:!1},{num:"5",name:"Красный виноград",count:"4",year:"1980",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"6",name:"Красный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"7",name:"Молочно-белый шар",count:"12",year:"1960",shape:"шар",color:"белый",size:"средний",favorite:!0},{num:"8",name:"Красный шар",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"9",name:"Колокольчик старинный",count:"2",year:"1950",shape:"колокольчик",color:"белый",size:"большой",favorite:!1},{num:"10",name:"Белый шар ретро",count:"7",year:"1960",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"11",name:"Шишка еловая белая",count:"11",year:"1960",shape:"шишка",color:"белый",size:"малый",favorite:!1},{num:"12",name:"Белый шар с цветами",count:"5",year:"1980",shape:"шар",color:"белый",size:"большой",favorite:!1},{num:"13",name:"Шар расписной Река",count:"3",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"14",name:"Шар расписной Деревня",count:"4",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!0},{num:"15",name:"Колокольчик расписной",count:"3",year:"1970",shape:"колокольчик",color:"синий",size:"средний",favorite:!1},{num:"16",name:"Шишка расписная Пейзаж",count:"3",year:"1970",shape:"шишка",color:"синий",size:"средний",favorite:!0},{num:"17",name:"Шишка расписная",count:"7",year:"1970",shape:"шишка",color:"красный",size:"средний",favorite:!1},{num:"18",name:"Желтый шар с бантом",count:"2",year:"2010",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"19",name:"Желтый шар с паетками",count:"12",year:"1980",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"20",name:"Красный шар с бантом",count:"8",year:"1950",shape:"шар",color:"красный",size:"средний",favorite:!0},{num:"21",name:"Красный шар с звёздами",count:"4",year:"1970",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"22",name:"Шишка еловая золотая",count:"11",year:"1990",shape:"шишка",color:"желтый",size:"малый",favorite:!1},{num:"23",name:"Колокольчик старинный",count:"9",year:"1950",shape:"колокольчик",color:"желтый",size:"большой",favorite:!1},{num:"24",name:"Снежинка изящная",count:"1",year:"1940",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"25",name:"Розовый шар с блёстками",count:"12",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"26",name:"Рубиново-золотой шар",count:"8",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"27",name:"Красный шар с узором",count:"4",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"28",name:"Бордовый шар с узором",count:"10",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"29",name:"Старинный шар с цветами",count:"5",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"30",name:"Старинный шар с узором",count:"8",year:"1950",shape:"шар",color:"желтый",size:"большой",favorite:!0},{num:"31",name:"Красный шар с блёстками",count:"8",year:"2010",shape:"шар",color:"красный",size:"большой",favorite:!1},{num:"32",name:"Синий шар Вселенная",count:"11",year:"1970",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"33",name:"Синий шар со снежинкой",count:"6",year:"2010",shape:"шар",color:"синий",size:"средний",favorite:!1},{num:"34",name:"Зелёный  шар с узором",count:"8",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"35",name:"Фигурка Лис в шарфе",count:"8",year:"1950",shape:"фигурка",color:"желтый",size:"средний",favorite:!0},{num:"36",name:"Сиреневый шар Метель",count:"1",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"37",name:"Зелёный  шар Метель",count:"6",year:"2000",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"38",name:"Голубой  шар Метель",count:"6",year:"2000",shape:"шар",color:"синий",size:"большой",favorite:!1},{num:"39",name:"Красная снежинка",count:"6",year:"1990",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"40",name:"Снежинка золотая",count:"12",year:"2020",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"41",name:"Снежинка арктическая",count:"11",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"42",name:"Зелёный шар",count:"10",year:"1980",shape:"шар",color:"зелёный",size:"средний",favorite:!1},{num:"43",name:"Снежинка двухцветная",count:"6",year:"1960",shape:"снежинка",color:"красный",size:"большой",favorite:!1},{num:"44",name:"Фигурка Ангела",count:"11",year:"1940",shape:"фигурка",color:"красный",size:"средний",favorite:!0},{num:"45",name:"Снежинка новогодняя",count:"1",year:"1980",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"46",name:"Фигурка Мухомор",count:"10",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"47",name:"Фигурка Колодец",count:"6",year:"1950",shape:"фигурка",color:"красный",size:"малый",favorite:!1},{num:"48",name:"Желтый шар с бантом",count:"6",year:"1960",shape:"шар",color:"желтый",size:"большой",favorite:!1},{num:"49",name:"Снежинка с бирюзой",count:"4",year:"1980",shape:"снежинка",color:"желтый",size:"большой",favorite:!1},{num:"50",name:"Колокольчик большой",count:"3",year:"2020",shape:"колокольчик",color:"красный",size:"большой",favorite:!1},{num:"51",name:"Шишка с изморозью",count:"12",year:"1970",shape:"шишка",color:"красный",size:"малый",favorite:!1},{num:"52",name:"Красный шар с надписью",count:"12",year:"1990",shape:"шар",color:"красный",size:"большой",favorite:!0},{num:"53",name:"Снежинка серебристая",count:"6",year:"2020",shape:"снежинка",color:"белый",size:"большой",favorite:!1},{num:"54",name:"Зелёный шар с рисунком",count:"6",year:"2010",shape:"шар",color:"зелёный",size:"большой",favorite:!1},{num:"55",name:"Пряничный домик",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"большой",favorite:!1},{num:"56",name:"Пряничный теремок",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"малый",favorite:!1},{num:"57",name:"Пряничная избушка",count:"1",year:"1940",shape:"фигурка",color:"желтый",size:"средний",favorite:!1},{num:"58",name:"Фигурка белого медведя",count:"2",year:"1980",shape:"фигурка",color:"белый",size:"средний",favorite:!1},{num:"59",name:"Желтый шар с надписью",count:"10",year:"1990",shape:"шар",color:"желтый",size:"средний",favorite:!1},{num:"60",name:"Фигурка Голубь",count:"12",year:"1940",shape:"фигурка",color:"белый",size:"средний",favorite:!0}],s.default=s.data},494:(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ToyCard=void 0,s.ToyCard=class{constructor(e){this.selection=!1,this.toyData=e,this.toyData.favorite?this.favoriteString="да":this.favoriteString="нет"}renderHTML(){return`<li class="toy-item" data-num=${this.toyData.num} data-selection=${this.selection}>\n    <h4 class="small-title">${this.toyData.name}</h4>\n    <img class="toy-image" src=../assets/toys/${this.toyData.num}.png alt="toy" />\n    <ul>\n      <li>Количество: <span class="count-toy">${this.toyData.count}</span></li>\n      <li>Год покупки: <span class="year-toy">${this.toyData.year}</span></li>\n      <li>Форма: <span class="shape-toy">${this.toyData.shape}</span></li>\n      <li>Цвет: <span class="color-toy">${this.toyData.color}</span></li>\n      <li>Размер: <span class="size-toy">${this.toyData.size}</span></li>\n      <li>Любимая: <span class="favorite-toy">${this.favoriteString}</span></li>\n    </ul>\n    <img class="star-image" src="../assets/svg/star-empty.svg" alt="star" />\n  </li>`}renderSelectionHTML(){return`<li class="toy-item toy-item_selected" data-num=${this.toyData.num}>\n    <h4 class="small-title">${this.toyData.name}</h4>\n    <img class="toy-image" src=../assets/toys/${this.toyData.num}.png alt="toy" />\n    <span class="count-toy">${this.toyData.count}</span>\n    <button class="remove-selection"><img src="../assets/svg/close-white.svg" alt="close" /></button>\n  </li>`}renderPreview(){return`<li class="toy-preview" draggable="true" data-num=${this.toyData.num}>\n    <img class="toy-image" data-num=${this.toyData.num} src=./assets/toys/${this.toyData.num}.png alt="toy" />\n    <span class="count-toy">${this.toyData.count}</span>\n  </li>`}}}},s={};function t(a){var n=s[a];if(void 0!==n)return n.exports;var o=s[a]={exports:{}};return e[a](o,o.exports,t),o.exports}(()=>{const e=t(494),s=t(146);class a{constructor(e=!1,s=!1,t="bg1",a="1",n=!1,o="5"){var i,l,r;if(this.music=e,this.snow=s,this.bg=t,this.tree=a,this.garland=n,this.garlandType=o,this.checkboxMusic=document.querySelector("#toggle-button-music"),this.audio=document.querySelector("audio"),this.checkboxSnow=document.querySelector("#toggle-button-snow"),this.bgCollection=document.querySelectorAll("input[name='bg']"),this.resultScreen=document.querySelector(".result-screen"),this.treeCollection=document.querySelectorAll("input[name='tree']"),this.checkboxGarland=document.querySelector(".garland-enabler"),this.garlandButtons=document.querySelectorAll("input[name='garland']"),this.selectionsContainer=document.querySelector(".selection-options ul"),this.doneList=document.querySelector(".done-list"),this.restoreSettings(this.music,this.snow,this.bg,this.tree,this.garland,this.garlandType),this.checkboxGarland.addEventListener("change",(()=>{this.changeGarland(this.checkboxGarland.checked,this.garlandType)})),this.checkboxMusic.addEventListener("change",(()=>{this.changeMusic(this.checkboxMusic.checked)})),this.checkboxSnow.addEventListener("change",(()=>{this.changeSnow(this.checkboxSnow.checked)})),this.garlandButtons.forEach((e=>{e.addEventListener("click",(()=>{this.changeGarland(this.checkboxGarland.checked,document.querySelector('input[name="garland"]:checked').value)}))})),this.bgCollection.forEach((e=>{e.addEventListener("click",(e=>{this.changeBg(e.target.value)}))})),this.treeCollection.forEach((e=>{e.addEventListener("click",(e=>{this.changeTree(e.target.value)}))})),null===(i=document.querySelector(".reset-storage"))||void 0===i||i.addEventListener("click",(()=>{this.restoreSettings(!1,!1,"bg1","1",!1,"5"),this.printSelection()})),null===(l=document.querySelector(".clear-tree"))||void 0===l||l.addEventListener("click",(()=>{window.localStorage.removeItem("savedTrees"),this.doneList.innerHTML=""})),null===(r=document.querySelector(".save-tree"))||void 0===r||r.addEventListener("click",(()=>{const e=JSON.parse(window.localStorage.getItem("gameSettings")),s=document.createElement("li");if(s.className=`bg ${e[2]}`,s.setAttribute("data-num",`${this.doneList.children.length}`),this.doneList.append(s),window.localStorage.getItem("savedTrees")){const s=JSON.parse(window.localStorage.getItem("savedTrees"));s.push(e),window.localStorage.setItem("savedTrees",JSON.stringify(s))}else window.localStorage.setItem("savedTrees",JSON.stringify([e]));s.addEventListener("click",(()=>{const e=JSON.parse(window.localStorage.getItem("savedTrees")),t=s.getAttribute("data-num"),a=e[Number(t)];this.restoreSettings(a[0],a[1],a[2],a[3],a[4],a[5])}))})),window.localStorage.getItem("savedTrees")){const e=JSON.parse(window.localStorage.getItem("savedTrees"));for(let s=0;s<=e.length-1;s++){const t=document.createElement("li");t.className=`bg ${e[s][2]}`,t.setAttribute("data-num",`${this.doneList.children.length}`),this.doneList.append(t),t.addEventListener("click",(()=>{const s=t.getAttribute("data-num"),a=e[Number(s)];this.restoreSettings(a[0],a[1],a[2],a[3],a[4],a[5])}))}}}changeGarland(e,s){this.garland=e,this.garlandType=s,this.saveSettings();const t=Number(s)-1;if(this.removeGarland(),this.garland){this.checkboxGarland.checked=!0,this.garlandButtons[t].checked=!0;const e=this.garlandButtons[t].getAttribute("data-color"),s=document.querySelector(".tree-container"),a=document.createElement("div");a.className="garland-container",a.innerHTML+=this.printGarland(e),s.append(a)}else this.checkboxGarland.checked=!1,this.garlandButtons[t].checked=!1}removeGarland(){var e;this.garlandButtons.forEach((e=>{e.checked=!1})),null===(e=document.querySelector(".garland-container"))||void 0===e||e.remove()}printGarland(e){return`<ul id="garland-block-first" class="garland-block">\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n  </ul>\n  <ul id="garland-block-second" class="garland-block">\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  </ul>\n  <ul id="garland-block-third" class="garland-block">\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  <li class=${e}></li>\n  </ul>\n  <ul id="garland-block-fourth" class="garland-block">\n  <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n  </ul>\n  <ul id="garland-block-fifth" class="garland-block">\n  <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    <li class=${e}></li>\n    \n  </ul>\n  \n  `}changeMusic(e){this.music=e,this.saveSettings(),this.music?(this.checkboxMusic.checked=!0,this.audio.play(),document.addEventListener("click",(()=>{this.audio.play()}),{once:!0})):(this.checkboxMusic.checked=!1,this.audio.pause())}changeSnow(e){var s;if(this.snow=e,this.saveSettings(),this.snow){this.checkboxSnow.checked=!0;const e=document.createElement("div");e.className="snow-container",e.innerHTML=this.printSnow(),this.resultScreen.append(e)}else this.checkboxSnow.checked=!1,null===(s=document.querySelector(".snow-container"))||void 0===s||s.remove()}printSnow(){return'<ul class="snowfall">\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n  </ul>\n  <ul class="snowfall2">\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n  </ul>\n  <ul class="snowfall3">\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n    <li><img src="./assets/svg/snow.svg" alt="snowflake" /></li>\n  </ul>\n  '}changeBg(e){this.bg=e,this.pushRadio(e),this.saveSettings(),this.resultScreen.className=`result-screen bg ${e}`}changeTree(e){var s,t;this.tree=e,this.pushRadio(e),this.saveSettings(),null===(s=document.querySelector(".map-tree"))||void 0===s||s.remove(),null===(t=document.querySelector(".tree-image"))||void 0===t||t.remove();const a=document.createElement("img");a.src=`./assets/tree/${e}.png`,a.useMap="#image-map",a.alt="tree",a.classList.add("tree-image");const n=document.querySelector(".tree-container");n.append(a),this.resultScreen.append(n),n.innerHTML+='<map name="image-map" class="map-tree">\n    <area target="" alt="tree" title="" href="" coords="247,3,481,616,363,702,87,691,7,618" shape="poly">\n    </map>';const o=document.querySelector(".map-tree");o.addEventListener("dragover",(e=>{e.preventDefault()})),o.addEventListener("drop",(e=>{var s;e.preventDefault();const t=document.querySelector(".selected"),a=null===(s=t.nextElementSibling)||void 0===s?void 0:s.textContent;if(Number(a)>0){const s=t.cloneNode();s.classList.remove("selected"),o.append(s),this.setCoords(s,e,o),t.nextElementSibling.textContent=String(+a-1),this.addSelectClassname(s),s.addEventListener("dblclick",(()=>{this.returnToy(s)}))}else"map-tree"===t.parentElement.className&&this.setCoords(t,e,o)})),this.selectionsContainer.addEventListener("dragover",(e=>{e.preventDefault()})),this.selectionsContainer.addEventListener("drop",(e=>{e.preventDefault();const s=document.querySelector(".selected");"map-tree"===s.parentElement.className&&this.returnToy(s)})),this.printSelection()}returnToy(e){const s=e.getAttribute("data-num"),t=document.querySelector(`.toy-preview [data-num='${s}']`);e.remove();const a=t.nextElementSibling.textContent;t.nextElementSibling.textContent=String(+a+1)}setCoords(e,s,t){e.style.left=` ${s.pageX-(t.getBoundingClientRect().left+20+window.pageXOffset)}px`,e.style.top=s.pageY-(t.getBoundingClientRect().top+20+window.pageYOffset)+"px"}pushRadio(e){document.querySelector(`input[value="${e}"]`).checked=!0}restoreSettings(e,s,t,a,n,o){this.changeBg(t),this.changeSnow(s),this.changeGarland(n,o),this.changeTree(a),this.changeMusic(e)}saveSettings(){window.localStorage.setItem("gameSettings",JSON.stringify([this.music,this.snow,this.bg,this.tree,this.garland,this.garlandType]))}addSelectClassname(e){e.addEventListener("dragstart",(e=>{e.target.classList.add("selected")})),e.addEventListener("dragend",(e=>{e.target.classList.remove("selected")}))}printSelection(){const t=document.querySelector(".selection-options ul"),a=JSON.parse(window.localStorage.getItem("selection"));if(t.innerHTML="",a&&a.length>0)a.forEach((a=>{t.innerHTML+=new e.ToyCard(s.data[a-1]).renderPreview()}));else{let a=0;for(;a<20;)t.innerHTML+=new e.ToyCard(s.data[a]).renderPreview(),a++}document.querySelectorAll(".toy-preview").forEach((e=>{this.addSelectClassname(e)}))}}if(window.localStorage.getItem("gameSettings")){const e=JSON.parse(window.localStorage.getItem("gameSettings"));new a(e[0],e[1],e[2],e[3],e[4],e[5])}else new a})()})();console.log("Вёрстка страниц приложения и навигация между ними +30;Меню с настройками +50;Гирлянда +40;Игрушки в избранном +80;Игрушки можно снять с елки путем перетаскивания на область избранных игрушек или по двойному клику;Сохраняются по кнопке только только общие настройки, фон, гирлянда.Есть кнопка очищения сохранений.")